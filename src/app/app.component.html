<div class="tree-container zoomed">
  <div style="position: absolute; top: 20px; right: 40px; z-index: 10;">
    <input type="text" [(ngModel)]="searchText" (input)="onSearchChange()" placeholder="Pretraga po imenu..." style="padding: 6px 12px; border-radius: 4px; border: 1px solid #ccc; min-width: 220px;" />
  </div>
  <div class="tree" [style.transform]="'scale(' + zoomLevel + ') translate(' + (-cursorX) + 'px,' + (-cursorY) + 'px)'" (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp()" (mouseleave)="onMouseUp()" style="cursor: move;">
    <ul *ngIf="familyTree">
      <ng-container *ngTemplateOutlet="renderMember; context: { $implicit: familyTree }"></ng-container>
    </ul>
    <ng-template #renderMember let-member>
      <li>
        <a [ngClass]="member.class">
          <span *ngIf="member.dateOfBirth; else noDate">{{ member.name }}({{ member.dateOfBirth }})</span>
          <ng-template #noDate>{{ member.name }}</ng-template>
        </a>
        <ul *ngIf="member.children && member.children.length">
          <ng-container *ngFor="let child of member.children">
            <ng-container *ngTemplateOutlet="renderMember; context: { $implicit: child }"></ng-container>
          </ng-container>
        </ul>
      </li>
    </ng-template>
  </div>
</div>
