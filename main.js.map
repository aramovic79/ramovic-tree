{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/family-tree.service.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, HostListener, OnInit } from '@angular/core';\r\nimport { FamilyTreeService, FamilyMember } from './family-tree.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'family-tree';\r\n  familyMembers: any[] = [];\r\n  newMember: any = {};\r\n\r\n  possibleRelationships = ['Child', 'Spouse', 'Sibling'];\r\n\r\n  zoomLevel = 1.0;\r\n  cursorX = 0;\r\n  cursorY = 0;\r\n  isDragging = false;\r\n  previousX = 0;\r\n  previousY = 0;\r\n\r\n  familyTree: FamilyMember | null = null;\r\n  searchText: string = '';\r\n  private fullTree: FamilyMember | null = null;\r\n\r\n  constructor(private familyTreeService: FamilyTreeService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.familyTreeService.getAllMembers().subscribe(tree => {\r\n      this.familyTree = tree;\r\n      this.fullTree = tree;\r\n    });\r\n  }\r\n\r\n  onSearchChange() {\r\n    const value = this.searchText.trim();\r\n    if (value.length === 0) {\r\n      this.familyTree = this.fullTree;\r\n    } else if (value.length >= 3) {\r\n      this.familyTreeService.getMembersByRootId(value).subscribe(member => {\r\n        this.familyTree = member || null;\r\n      });\r\n    }\r\n  }\r\n\r\n  @HostListener('mousewheel', ['$event'])\r\n  onScroll(event: any) {\r\n    const delta = Math.sign(event.deltaY);\r\n    if (delta > 0) {\r\n      this.zoomOut();\r\n    } else {\r\n      this.zoomIn();\r\n    }\r\n    event.preventDefault();\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  onMouseDown(event: any) {\r\n    if (event.button === 0) {\r\n      this.isDragging = true;\r\n      this.previousX = event.clientX;\r\n      this.previousY = event.clientY;\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseup')\r\n  onMouseUp() {\r\n    this.isDragging = false;\r\n  }\r\n\r\n  @HostListener('mousemove', ['$event'])\r\n  onMouseMove(event: any) {\r\n    if (this.isDragging) {\r\n      const deltaX = event.clientX - this.previousX;\r\n      const deltaY = event.clientY - this.previousY;\r\n\r\n      const scaleFactor = 1 / this.zoomLevel;\r\n\r\n      this.cursorX -= deltaX * scaleFactor;\r\n      this.cursorY -= deltaY * scaleFactor;\r\n\r\n      this.previousX = event.clientX;\r\n      this.previousY = event.clientY;\r\n    }\r\n  }\r\n\r\n  zoomIn() {\r\n    this.zoomLevel += 0.1;\r\n  }\r\n\r\n  zoomOut() {\r\n    this.zoomLevel -= 0.1;\r\n  }\r\n}\r\n","<div class=\"tree-container zoomed\">\r\n  <div style=\"position: absolute; top: 20px; right: 40px; z-index: 10;\">\r\n    <input type=\"text\" [(ngModel)]=\"searchText\" (input)=\"onSearchChange()\" placeholder=\"Pretraga po imenu...\" class=\"search-input\" />\r\n  </div>\r\n  <div class=\"tree\" [class.draggable]=\"isDragging\" [style.transform]=\"'scale(' + zoomLevel + ') translate(' + (-cursorX) + 'px,' + (-cursorY) + 'px)'\"\r\n     (mousedown)=\"onMouseDown($event)\">\r\n    <ul *ngIf=\"familyTree\">\r\n      <ng-container *ngTemplateOutlet=\"renderMember; context: { $implicit: familyTree }\"></ng-container>\r\n    </ul>\r\n    <ng-template #renderMember let-member>\r\n      <li>\r\n        <a [ngClass]=\"member.class\">\r\n          <span *ngIf=\"member.dateOfBirth; else noDate\">{{ member.name }}({{ member.dateOfBirth }})</span>\r\n          <ng-template #noDate>{{ member.name }}</ng-template>\r\n        </a>\r\n        <ul *ngIf=\"member.children && member.children.length\">\r\n          <ng-container *ngFor=\"let child of member.children\">\r\n            <ng-container *ngTemplateOutlet=\"renderMember; context: { $implicit: child }\"></ng-container>\r\n          </ng-container>\r\n        </ul>\r\n      </li>\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    HttpClientModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport interface FamilyMember {\r\n  name: string;\r\n  dateOfBirth: string | null;\r\n  class: string;\r\n  children: FamilyMember[];\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class FamilyTreeService {\r\n  private dataUrl = 'assets/family-tree.json';\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getAllMembers(): Observable<FamilyMember> {\r\n    return this.http.get<FamilyMember>(this.dataUrl);\r\n  }\r\n\r\n  getMembersByRootId(rootName: string): Observable<FamilyMember | undefined> {\r\n    // Returns the first (highest hierarchy) member whose name matches rootName\r\n    // If multiple nodes have the same name, the one closest to the root is returned\r\n    return new Observable(observer => {\r\n      this.getAllMembers().subscribe(tree => {\r\n        const findMember = (member: FamilyMember): FamilyMember | undefined => {\r\n          if (member.name.toLowerCase().includes(rootName.toLowerCase())) return member; // first match = highest hierarchy\r\n          for (const child of member.children) {\r\n            const found = findMember(child);\r\n            if (found) return found;\r\n          }\r\n          return undefined;\r\n        };\r\n        observer.next(findMember(tree));\r\n        observer.complete();\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["RouterModule","routes","AppRoutingModule","forRoot","imports","i1","exports","i0","ɵɵelementContainer","ɵɵelementStart","ɵɵtemplate","AppComponent_ul_4_ng_container_1_Template","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","_r1","ɵɵpureFunction1","_c0","ctx_r0","familyTree","ɵɵtext","ɵɵtextInterpolate2","member_r4","name","dateOfBirth","ɵɵtextInterpolate","ɵɵelementContainerStart","AppComponent_ng_template_5_ul_5_ng_container_1_ng_container_1_Template","ɵɵelementContainerEnd","child_r12","AppComponent_ng_template_5_ul_5_ng_container_1_Template","children","AppComponent_ng_template_5_span_2_Template","AppComponent_ng_template_5_ng_template_3_Template","ɵɵtemplateRefExtractor","AppComponent_ng_template_5_ul_5_Template","class","_r6","length","AppComponent","constructor","familyTreeService","title","familyMembers","newMember","possibleRelationships","zoomLevel","cursorX","cursorY","isDragging","previousX","previousY","searchText","fullTree","ngOnInit","getAllMembers","subscribe","tree","onSearchChange","value","trim","getMembersByRootId","member","onScroll","event","delta","Math","sign","deltaY","zoomOut","zoomIn","preventDefault","onMouseDown","button","clientX","clientY","onMouseUp","onMouseMove","deltaX","scaleFactor","ɵɵdirectiveInject","FamilyTreeService","selectors","hostBindings","AppComponent_HostBindings","rf","ctx","$event","AppComponent_mousedown_HostBindingHandler","AppComponent_mouseup_HostBindingHandler","AppComponent_mousemove_HostBindingHandler","ɵɵlistener","AppComponent_Template_input_ngModelChange_2_listener","AppComponent_Template_input_input_2_listener","AppComponent_Template_div_mousedown_3_listener","AppComponent_ul_4_Template","AppComponent_ng_template_5_Template","ɵɵstyleProp","ɵɵclassProp","BrowserModule","HttpClientModule","FormsModule","AppModule","bootstrap","declarations","Observable","http","dataUrl","get","rootName","observer","findMember","toLowerCase","includes","child","found","undefined","next","complete","ɵɵinject","HttpClient","factory","ɵfac","providedIn","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","console","error"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}